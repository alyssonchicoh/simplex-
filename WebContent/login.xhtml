<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:composition template="/index.xhtml">
		
		
		<ui:define name="nome_pagina">
			<h1>
				<STRONG>Gerador de Simplex!</STRONG>
			</h1>
		</ui:define>
		
		<ui:define name="corpo">
			<p:dialog header="Configurações Iniciais" id="configuracoes" widgetVar="dlg1" modal="true">
				<div class="box-body">
					<div class="col-md-12">
						<div class="form-group">
							<label>Quantidade de Variáveis*</label>
								<p:inputText maxlength="50" styleClass="form-control" label="#{msg['nome']}" value="#{controladorBean.qtdVariaveis}" required="true" />
						</div>
					</div>
						
					<div class="col-md-12">
						<div class="form-group">
							<label>Quantidade de Restrições*</label>
								<p:inputText maxlength="50" styleClass="form-control" label="#{msg['nome']}" value="#{controladorBean.qtdRestricoes}" required="true" />
						</div>
					</div>
				</div>
				
				<div class="box-footer">
					<div class="pull-right box-tools">
						<p:commandButton class="btn btn-success btn-md" 
										 value="Configurar o Simplex" 
										 action="#{controladorBean.exibirPainelVariaveis}" 
										 update="@form" onclick="PF('dlg1').hide();"/>

						<br/>
					</div>
				</div>
			</p:dialog>
			
			<p:dialog header="Forma Padrão do Problema" id="formaPadrao" widgetVar="formaPadrao" modal="true" width="500px">
				<div class="box-body">
					<div class="col-md-12 text-center">
											<div class="form-group">
					
								<ui:repeat var="res" value="#{controladorBean.restricoes}">
									<br/>
										<ui:repeat var="vari" value="#{res.variaveis}">
											<p:outputLabel value="#{vari.obterValorLiteral()}"></p:outputLabel>
										</ui:repeat>
										<p:outputLabel value="+ #{res.folga}"/>
								</ui:repeat>
					
					</div>		</div>
				</div>
				
				
				
				<div class="box-footer">
					<div class="pull-right box-tools">
						<p:commandButton class="btn btn-success btn-md" 
										 value="Certo, Entendi" 
										 action="#{controladorBean.gerar}" 
										 update="@form" onclick="PF('formaPadrao').hide();"/>

					</div>
				</div>
			</p:dialog>


			<div class="row text-center">
				<ui:fragment rendered = "#{controladorBean.mostraPainelInservaoVariaveis == false}">
					<p:commandButton class="btn btn-success btn-md" value="Configurar o Simplex"  onclick="PF('dlg1').show();"/>
				</ui:fragment>
			</div>
			
			
			
			<!-- PAINEL DE INSERÇÃO DE VALORES NAS VARIAVEIS -->
			<p:panel rendered="#{controladorBean.mostraPainelInservaoVariaveis}">
				<div class="box-body align-items-center justify-content-center">
					<div class="col-md-12">
						<div class="row text-center">
							<h3><b>Seu Objetivo é:</b></h3>
						</div>
						
						<div class="row text-center">
							<p:commandButton id="min" class="btn-success btn-xs" immediate="true" value="Min"/>
								
							<p:commandButton id="max" class="btn-success btn-xs" immediate="true" value="Max" />
						</div>
						
						<div class="row text-center">
							<h3><b>Quais os Valores?</b></h3>
						</div>
						
						
						<div class="row text-center">
								<ui:repeat var="vari" value="#{controladorBean.variaveis}">
												 
													<p:commandButton id="operacao" class="btn-success btn-xs" immediate="true" value="+" rendered="#{vari.visivel == true}" />
													<p:inputText style="widh: 30px" size="1" value="#{vari.valor}" rendered="#{vari.visivel == true}"></p:inputText>
													<p:outputLabel value="#{vari.nome}" rendered="#{vari.visivel == true}"/>
											
								</ui:repeat>
						</div>
						<div class="row text-center">
							<h3><b>Que Restrições?</b></h3>
						</div>
						
						<div class="row text-center">
							<ui:repeat var="res" value="#{controladorBean.restricoes}">
								<br/>
								<ui:repeat var="vari" value="#{res.variaveis}">
									<p:spacer width="10px"  />
									<p:commandButton id="operacao" class="btn-success btn-xs" immediate="true" value="+" />
									<p:spacer width="6px"  /> 
									<p:inputText style="widh: 30px" size="1" value="#{vari.valor}"></p:inputText>
									<p:outputLabel value="#{vari.nome}"/>
								</ui:repeat>
																	<p:spacer width="10px"  />
								
								<p:outputLabel value="#{controladorBean.valorMenorQue}"></p:outputLabel>								
																	<p:spacer width="10px"  />
								
								<p:inputText style="widh: 30px" size="1" value="#{res.valorDireto}"></p:inputText>
							</ui:repeat>
						</div>
						
						<div class="row text-center">
							<p:commandButton class="btn btn-success btn-md" value="Iniciar"  onclick="PF('formaPadrao').show();"/>
						</div>
												
					</div>
				</div>
			</p:panel>
			
			
				<p:panel rendered="#{controladorBean.mostraPainel}">
					<div class="box-body text-center">
						
						
						
						    <div class="row">
        						<div class="col-xs-12">
          							<div class="box">
							            <div class="box-header">
							            	<div class="row">
							            		<div class="col-xs-2 text-left">
							            			<p:commandButton class="btn btn-danger btn-md text-left" value="Anterior"/>
							              		</div>
							              		
							              		<div class="col-xs-8 text-center">
							              			<h3 class="box-title">Tablô Nº: #{controladorBean.numero}</h3>
							              			<H4 style="color: red">Variável que Sai: <strong> #{controladorBean.variavelSai.nome} </strong></H4>
							              			<H4 style="color: green">Variável que Entra: <strong> #{controladorBean.variavelEntra.nome} </strong></H4>
							              			
							              		</div>
							              		
							              		<div class="col-xs-2 text-right">
							              			<p:commandButton class="btn btn-primary btn-md" value="Próximo" action="#{controladorBean.proximoTablo}" update="@form" />
							            		</div>
							            	</div>  
							              
							            </div>
            							
            							<div class="box-body">
							              <table id="example2" class="table table-bordered table-hover">
							                <thead>
							                	<tr>
							                		<ui:repeat var="variavel" value="#{controladorBean.preHead}">
							                			 <th>#{variavel}</th>	
							                		</ui:repeat>
							                	</tr>
							                
							                	<tr>
							                		<ui:repeat var="variavel" value="#{controladorBean.head}">
							                			  <th style="    background-color: red;color: white;">#{variavel}</th>	
							                			 
							                		</ui:repeat>
							                	</tr>
							                </thead>
							                <tbody>
								                <ui:repeat var="linha" value="#{controladorBean.content}">
									                <tr>
									                  <ui:repeat var="coluna" value="#{linha}">
									                 	<th>#{coluna}</th>	
									                  </ui:repeat>
									                  
									                </tr>
								                </ui:repeat>
								                
								                <tr>
							                		<ui:repeat var="variavel" value="#{controladorBean.linhaZ}">
							                			 <th>#{variavel}</th>	
							                		</ui:repeat>
							                	</tr>
							                	     <tr>
							                		<ui:repeat var="variavel" value="#{controladorBean.linhaZC}">
							                			 <th>#{variavel}</th>	
							                		</ui:repeat>
							                	</tr>
							                
							               </tbody>
							                
							              </table>
            </div>
            <!-- /.box-body -->
          </div>
          </div>
          
         </div>
         
						
					</div>
			</p:panel>
		</ui:define>
	</ui:composition>
</html>