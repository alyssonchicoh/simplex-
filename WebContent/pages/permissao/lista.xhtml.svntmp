<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/index.xhtml">

	<ui:define name="nome_pagina">
		<h1>
			<STRONG> Consulta De Permissão </STRONG>
		</h1>
	</ui:define>

	<ui:define name="botoes">
		<div class="pull-right box-tools">
			<p:commandButton styleClass="btn-block btn-primary" value="#{msg['novo']}"
				action="#{permissaoBean.showFormNovo}"
				></p:commandButton>
				<!-- rendered="#{usuarioWeb.temPermissao('INCLUIR_USUARIO')}" -->
		</div>
	</ui:define>

	<ui:define name="corpo">
		<p:dataTable id="tbPermissao" rows="7" var="permissao"
			paginator="true" value="#{permissaoBean.permissaoList}"
			paginatorPosition="bottom" paginatorAlwaysVisible="false"
			emptyMessage="#{msg['lista.vazia']}">

			<p:column headerText="#{msg['permissao.nome']}"
				styleClass="align-center">
	                        #{permissao.nome}
	                    </p:column>

			<p:column width="60%" styleClass="align-center"
				headerText="#{msg['permissao.descricao']}">
	                        #{permissao.descricao}
	                    </p:column>

			<p:column width="15%" styleClass="align-center"
				headerText="#{msg['acao']}">
				<p:commandButton icon="ui-icon-pencil" title="#{msg['editar']}"
					class="btn btn-primary btn-xs"
					action="#{permissaoBean.showFormEditar(permissao.id)}"
					rendered="#{usuarioWeb.temPermissao('ALTERAR_PERMISSAO')}" />

				<p:spacer width="10" />

				<p:commandButton icon="ui-icon-trash" title="#{msg['excluir']}"
					class="btn btn-danger btn-xs"
					actionListener="#{permissaoBean.remover(permissao)}"
					rendered="#{usuarioWeb.temPermissao('EXCLUIR_PERMISSAO')}">
					<p:confirm header="Excluir Permissão"
						message="Deseja excluir o registro em definitivo?"
						icon="ui-icon-alert" />
				</p:commandButton>
			</p:column>


			<f:facet name="footer">
				<h:outputText
					value="#{msg['lista.totalRegistros']} #{permissaoBean.permissaoList.size()}" />
			</f:facet>

		</p:dataTable>

	</ui:define>

</ui:composition>

</html>